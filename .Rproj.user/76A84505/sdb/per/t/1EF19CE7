{
    "collab_server" : "",
    "contents" : "\n# This is the user-interface definition of a Shiny web application.\n# You can find out more about building applications with Shiny here:\n#\n# http://shiny.rstudio.com\n#\n\nlibrary(shiny)\nshinyUI(fluidPage(\n  # Header ---------------------------------------------\n  titlePanel(\"Defensins Sequence Space\"),\n  wellPanel(\n    div(class=\"header\",\n        p(\"There are\",\n          a(href=\"https://doi.org/10.1093/molbev/msw106\",\"two evolutionarily independent superfamilies of defensins\"),\n          \"(1) with\",\n          a(href=\"https://doi.org/10.1007/s00018-016-2344-5\",\"extensive convergent similarities\"),\n          \"(2) . The cis-defensins contain plant, fungal, and most invertebrate defensins. The trans-defensins contain\n          the mammalian defensins and invertebrate big defensins.\"),\n        p(\"This webtool allows you to interactively view the sequence space maps for these defensin superfamilies.\n          It can predict whether a given query sequence is a cis-defensin or trans-defensin, map\n          its sequence space location, and determine which cluster it falls into.\")\n        )\n    ),\n\n  tabsetPanel(\n  # TAB 1 -----------------------------------\n    tabPanel(\"View\",fluidPage(\n      sidebarPanel(\n        h3(\"Sequence Space\"),\n        p(\"View a quantitative sequence space map for either defensin superfamily.\"),\n        selectInput(\"view_type\",\n                    label   = \"Defensin superfamily\",\n                    choices  = c(\"cis-Defensin\",\"trans-Defensin\")),\n        p(\"Clicking \\\"show\\\" will open the interactive diagram in a new window.\"),\n        actionButton(\"button.view\", \"Show\"),\n        tags$hr(style=\"border-color: grey;\"),\n        h4(\"Identify sequences\"),\n        p(\"To identify points in the sequence space, use the button below,\n          then drag a box around the sequences you are interested in.\"),\n        actionButton(\"button2.view\", \"Activate selection mode\")\n      ),\n      \n      # Image legend\n      # mainPanel(\n      #   textOutput(\"report_legend\")\n      # ),\n      # Display selected points alignment\n      mainPanel(\n        h4(\"Selected sequences\"),\n        htmlOutput(\"fasta2.view\",style = \"font-family:Courier New ; min-width:500px\")\n      )\n      \n    )),\n\n      \n    # TAB 2 -----------------------------------\n    tabPanel(\"Find\",fluidPage(\n  \n    # Inputs section\n    sidebarLayout(\n  \n      # Select superfamily\n      sidebarPanel(\n        h3(\"Locate a sequence\"),\n        p(\"Input a query sequence to locate in the defensin sequence space. Since the defensins consist\n          of two superfamilies, you may indicate whether it is a cis-defensin of trans-defensin (if known).\n          Accuracy is best when the query sequence includes only the defensin domain.\"),\n        textAreaInput(\"query_sequence\",resize=\"vertical\",rows=3,\n                  label       = \"Find query sequence\",\n                  value       = \"RECKTESNTFPGICITKPPCRKACISEKFTDGHCSKILRRCLCTKPC\",\n                  placeholder = \"Amino acid sequence\"),\n        selectInput(\"query_type\",\n                    label   = \"Within superfamily (if known)\",\n                    choices  = c(\"unknown\",\"cis-Defensin\",\"trans-Defensin\"),\n                    selected = \"unknown\"),\n        p(\"Clicking \\\"calculate\\\" will open the interactive diagram in a new window.\"),\n        actionButton(\"button\", \"Calculate\"),\n        tags$hr(style=\"border-color: grey;\"),\n        h4(\"Identify sequences\"),\n        p(\"To identify points in the sequence space, use the button below,\n          then drag a box around the sequences you are interested in.\"),\n        actionButton(\"button2\", \"Activate selection mode\")\n        ),\n  \n      \n      # Outputs section \n      mainPanel(\n        \n        # Display summary text\n        h4(textOutput(\"title\")),\n        textOutput(\"report\"),\n        tableOutput(\"table\"),\n        # plotOutput(\"histplot\",height = \"250px\"),\n        \n        # Display fasta alignment\n        tags$hr(style=\"border-color: grey;\"),\n        h4(\"Nearest neighbours\"),\n        p(\"These are the sequences that are closest to the query sequence within the sequence space.\"),\n        sliderInput(\"return_nearest\",\"Number of nearest neighbours\",value=10,min=1,max=100),\n        htmlOutput(\"fasta\",style = \"font-family:Courier New ; min-width:500px\"),\n        \n        # Display selected points alignment\n        tags$hr(style=\"border-color: grey;\"),\n        h4(\"Selected sequences\"),\n        htmlOutput(\"fasta2\",style = \"font-family:Courier New ; min-width:500px\")\n      )\n    )\n  ))),\n  \n  # Footer --------------------------\n  wellPanel(\n    div(class=\"footer\",\n        h3(\"References\"),\n        p(\"1) Shafee T, et al. \\\"The defensins consist of two independent, convergent protein superfamilies.\\\" \",\n          tags$i(\"Molecular Biology and Evolution\"),\n          \"(2016): msw106.\",\n          a(href=\"https://doi.org/10.1093/molbev/msw106\",\"DOI:10.1093/molbev/msw106\")),\n        p(\"2) Shafee T, et al. \\\"Convergent evolution of defensin sequence, structure and function.\\\"\",\n          tags$i(\"Cellular and Molecular Life Sciences\"),\n          \" (2017): 1-20.\",\n          a(href=\"https://doi.org/10.1007/s00018-016-2344-5\",\"DOI:10.1007/s00018-016-2344-5\"))\n    )\n  ),\n  p(\"AlignStat was developed by Thomas Shafee at the \",\n    a(href=\"http://www.latrobe.edu.au/lims\",\"La Trobe Institute of Molecular Science (LIMS)\"),\" and \",\n    a(href=\"http://hexima.com.au/\",\"Hexima\")),\n  img(src=\"http://cysbar.science.latrobe.edu.au/img/lims.png\",width=\"200px\"),\n  img(src=\"http://cysbar.science.latrobe.edu.au/img/hexima.png\",width=\"200px\"),\n  plotOutput(\"mainplot\"),\n  plotOutput(\"mainplot.view\")\n))\n",
    "created" : 1493613840200.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4132360996",
    "id" : "1EF19CE7",
    "lastKnownWriteTime" : 1503287372,
    "last_content_update" : 1503287372206,
    "path" : "C:/Users/T/OneDrive/1-Scripts/GitHub/DefSpaceShiny/ui.R",
    "project_path" : "ui.R",
    "properties" : {
        "docOutlineVisible" : "1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}